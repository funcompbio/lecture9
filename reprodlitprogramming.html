<!DOCTYPE html>
<html>
  <head>
    <title>FCB - Reproducibility</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Courier'; }
    </style>
    <link rel="stylesheet" href="upf.css">
  </head>
  <body>
    <textarea id="source">

class: title-slide, center, middle

# Reproducibility with <br>literate programming
## Robert Castelo
### Dept. of Experimental and Health Sciences
### Universitat Pompeu Fabra
.footnote[[robert.castelo@upf.edu](mailto:robert.castelo@upf.edu)]

## Fundamentals of Computational Biology
### BSc on Human Biology
### UPF School of Health and Life Sciences
### Academic Year 2020-2021

---

## Reproducibility

.left-column[

* Scientific discoveries never arise from the thin air, they are always built upon
previous scientific knowledge.

* Scientific knowledge is based on the premise that scientifically proven
facts or theories can be [reproduced](https://en.wikipedia.org/wiki/Reproducibility)
(observed or verified again and again).

![:scale 100%](reproducibility_opener.jpg)

]

.right-column[

![:scale 70%](the_difference.png)

]

.footer[
Left image from [ScienceNews](https://www.sciencenews.org/article/redoing-scientific-research-best-way-find-truth), right image from [xkcd](https://xkcd.com/242).
]

---

## Reproducibility

.left-column[

* In research involving computational means (data and software)
reproducing a result can be also challenging.

![:scale 90%](KimDumas18fig1.jpg)

]

.right-column[

* It should be, however, always feasible! [(Claerbout and Karrenbach, 1992)](https://library.seg.org/doi/abs/10.1190/1.1822162).

* Within the reproducibility spectrum, computational approaches and publication standards are
evolving to increase the level of reproducibility.

![:scale 90%](Peng11fig1.jpg)

]

.footer[
Left image from [(Kim et al., 2018)](https://dx.doi.org/10.1093%2Fgigascience%2Fgiy077),
right image from [(Peng et al., 2011](https://dx.doi.org/10.1126/science.1213847).
]

---

## Literate programming

* [Literate programming (LP)](https://en.wikipedia.org/wiki/Literate_programming) is a
paradigm in which programming statements are interspersed with source code.

* LP was introduced by [Donald Knuth](https://en.wikipedia.org/wiki/Donald_Knuth)
in 1984, developing the so-called [WEB System](https://en.wikipedia.org/wiki/Web_%28programming_system%29).

![](WebSystem.png)

* An LP tool produces two files: the _tangled_ source code of
the computer program and the whole document, including the text _woven_ with the code, formatted
for displaying or printing.

---

## Literate programming

* There are many LP tools for different programming languages. Some of them are:

|  Name   | Programming language | Result |
|---------|----------------------|--------|
| WEB     | Pascal               | PDF    |
| CWEB    | C and C++            | PDF    |
| NoWEB   | any                  | PDF    |
| Sweave  | R                    | PDF    |
| Jupyter Notebook | Python      | HTML   |
| R Markdown | R                 | HTML   |

* Currently, [Jupyter Notebooks](https://jupyter.org) and
[R Markdown](https://rmarkdown.rstudio.com) are two most widely used
LP tools for doing reproducible analyses on the computer.

---

## R Markdown

* An R Markdown document starts with a [YAML](https://en.wikipedia.org/wiki/YAML) header:

```---```<br>
```title: My document```<br>
```author: Me```<br>
```output: html_document```<br>
```---```<br>

* The YAML header allows one to make global formatting choices:

```---```<br>
```title: My document```<br>
```author: Me```<br>
```output:```<br>
&nbsp;&nbsp;&nbsp;&nbsp;```html_document:```<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;```toc: true```<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;```toc_float: true```<br>
```---```<br>

<br>
<br>
<br>
<br>
<br>
<br>

`

---

## R Markdown

* The rest of the R Markdown document is Markdown text with R code
specified as follows:

![:scale 50%](rmdcodechunk1.png)

* Here the `r` letter refers to the fact that the **code chunk** contains R code.

* Code chunks may have options to control how/whether the code output is displayed,
or even if the code chunk should be executed:

![:scale 50%](rmdcodechunk2.png)

---

## R Markdown

* Example of an R Markdown document converted into HTML and displayed
on the browser (default sample R Markdown document in RStudio).

.left-column[

![:scale 90%](examplermd.png)

]

.right-column[

![:scale 90%](exampleknitrmd.png)

]

---

## Concluding remarks

* The lack of reproducibility of results hampers the advancement of science.

* Reproducibility in data analysis is a minimum standard towards the end goal
of full replicability.

* There is a rich software toolkit for reproducible research: literate programming
version control systems, data and code repositories, unit testing, containerization, etc.

* There is an increasing demand for scientists and professionals with computational
skills for reproducible data analysis.

--

![:scale 50%](keithbaggerlyquote.png)


      </textarea>
      <script src="remark-latest.min.js"></script>
      <script src="external-link.js"></script> 
      <script src="remark-macros.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_HTML&delayStartupUntil=configured" type="text/javascript"></script>
      <script type="text/javascript">
      var slideshow = remark.create();
      // Setup MathJax
      MathJax.Hub.Config({
                tex2jax: {
                    inlineMath: [['$', '$'], ['\\(','\\)']],
                    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'] }
              });
      MathJax.Hub.Configured();
      </script>
      <script>
        var slideshow = remark.create()
      </script>
    </body>
  </html>
